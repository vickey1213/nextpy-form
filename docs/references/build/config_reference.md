##  Reference for nextpy/build/config(Generated by a LLM. Pending Review)

# Nextpy Configuration

Nextpy is a full-stack Python library that allows developers to create powerful web applications. This documentation covers the configuration aspects of Nextpy, focusing on the `DBConfig` and `Config` classes, which are central to setting up and managing application settings.

---

## DBConfig

### Overview

`DBConfig` is a class for configuring the database connection used by a Nextpy application. It supports various database engines and provides convenient methods for setting up commonly used databases like PostgreSQL and SQLite.

### Anatomy

#### Basic Implementation

Here is how you can define a basic `DBConfig` for a SQLite database:

```python
from nextpy import DBConfig

# Create a SQLite database configuration
db_config = DBConfig.sqlite(database="mydatabase.db")
```

#### Advanced Implementation

To configure a PostgreSQL database with all parameters:

```python
from nextpy import DBConfig

# PostgreSQL database configuration with all parameters
db_config = DBConfig.postgresql(
    database="mydatabase",
    username="myuser",
    password="mypassword",
    host="localhost",
    port=5432
)
```

### Components

#### Methods

- `__init__`: Initializes a new `DBConfig` instance with the given parameters.
- `postgresql`: Class method to create a `DBConfig` instance for a PostgreSQL database.
- `postgresql_psycopg2`: Class method to create a `DBConfig` instance for a PostgreSQL database using the `psycopg2` driver.
- `sqlite`: Class method to create a `DBConfig` instance for a SQLite database.
- `get_url`: Returns the database connection URL.

#### Properties Table

| Prop Name | Type                  | Description                                        |
|-----------|-----------------------|----------------------------------------------------|
| engine    | `str`                 | The name of the database engine.                   |
| username  | `Optional[str]`       | The username for the database.                     |
| password  | `Optional[str]`       | The password for the database.                     |
| host      | `Optional[str]`       | The host where the database is located.            |
| port      | `Optional[int]`       | The port number for the database connection.       |
| database  | `str`                 | The name of the database.                          |

### Notes

- Ensure that the database parameters are set correctly and match the requirements of the selected database engine.
- Store sensitive information like passwords securely and avoid hardcoding them in your source code.

### Best Practices

- Use environment variables to manage database configuration in different environments (development, staging, production).
- Employ the provided class methods (`postgresql`, `sqlite`, etc.) to simplify the configuration process.

---

## Config

### Overview

`Config` is a class for managing the application's configuration settings. It includes various options for logging, server ports, database URLs, and more.

### Anatomy

#### Basic Implementation

Here is an example of how to create a basic `Config` object with mandatory parameters:

```python
from nextpy import Config, constants

# Create a basic configuration for the application
app_config = Config(
    app_name="MyNextpyApp",
    loglevel=constants.LogLevel.INFO,
    frontend_port=3000,
    backend_port=8000,
    api_url="http://localhost:8000/api",
    backend_host="localhost",
    db_url="sqlite:///mydatabase.db"
)
```

#### Advanced Implementation

You can also configure additional optional parameters as needed:

```python
from nextpy import Config, constants

# Advanced application configuration with additional options
app_config = Config(
    app_name="MyNextpyApp",
    loglevel=constants.LogLevel.DEBUG,
    frontend_port=3000,
    frontend_path="/path/to/frontend",
    backend_port=8000,
    api_url="http://localhost:8000/api",
    deploy_url="http://mydeployurl.com",
    backend_host="localhost",
    db_url="postgresql://myuser:mypassword@localhost/mydatabase",
    redis_url="redis://localhost:6379",
    telemetry_enabled=True,
    bun_path="/path/to/bun",
    cors_allowed_origins=["http://localhost:3000"],
    tailwind={"config": "tailwind.config.js"},
    timeout=30,
    next_compression=True,
    event_namespace="myapp.events",
    frontend_packages=["react", "react-dom"],
    xtdeploy_url="http://xtdeploy.com",
    cp_backend_url="http://cpbackend.com",
    cp_web_url="http://cpweb.com",
    username="admin",
    gunicorn_worker_class="uvicorn.workers.UvicornWorker"
)
```

### Components

#### Methods

- `__init__`: Initializes a new `Config` instance with the given parameters.
- `check_deprecated_values`: Checks for deprecated configuration values.
- `update_from_env`: Updates the configuration from environment variables.
- `get_event_namespace`: Returns the configured event namespace.
- `_set_persistent`: Sets persistent configuration values.

#### Properties Table

| Prop Name              | Type                             | Description                                              |
|------------------------|----------------------------------|----------------------------------------------------------|
| app_name               | `str`                            | The name of the application.                             |
| loglevel               | `constants.LogLevel`             | The logging level for the application.                   |
| frontend_port          | `int`                            | The port number for the frontend server.                 |
| frontend_path          | `str`                            | The file path for the frontend assets.                   |
| backend_port           | `int`                            | The port number for the backend server.                  |
| api_url                | `str`                            | The URL for the API endpoints.                           |
| deploy_url             | `Optional[str]`                  | The URL for the deployment service.                      |
| backend_host           | `str`                            | The host for the backend server.                         |
| db_url                 | `Optional[str]`                  | The database URL.                                        |
| redis_url              | `Optional[str]`                  | The Redis URL for caching or session storage.            |
| telemetry_enabled      | `bool`                           | Indicates if telemetry is enabled.                       |
| bun_path               | `str`                            | The file path for the bun binary.                        |
| cors_allowed_origins   | `List[str]`                      | The list of origins allowed for CORS.                    |
| tailwind               | `Optional[Dict[str, Any]]`       | Configuration for Tailwind CSS.                          |
| timeout                | `int`                            | The timeout in seconds for network requests.             |
| next_compression       | `bool`                           | Indicates if compression is enabled for Next.js assets.  |
| event_namespace        | `Optional[str]`                  | The namespace for event handling.                        |
| frontend_packages      | `List[str]`                      | The list of packages for the frontend.                   |
| xtdeploy_url           | `Optional[str]`                  | The URL for the Xtdeploy service.                        |
| cp_backend_url         | `str`                            | The URL for the control panel backend.                   |
| cp_web_url             | `str`                            | The URL for the control panel web interface.             |
| username               | `Optional[str]`                  | The username for authentication.                         |
| gunicorn_worker_class  | `str`                            | The class name of the Gunicorn worker for Uvicorn.       |

### Notes

- Avoid including sensitive information in the source code; use environment variables for sensitive configuration.
- The `loglevel` should be set to `DEBUG` or `INFO` for development and to `WARNING` or `ERROR` for production environments to avoid verbose logs.

### Best Practices

- Regularly update the `Config` class with new settings as your application grows.
- Use `update_from_env` to ensure configuration consistency across different deployment environments.
- Review and remove deprecated or unused configurations using `check_deprecated_values`.
- Customize the `cors_allowed_origins` to restrict cross-origin requests to your application for security purposes.

By following this structured approach to documenting `DBConfig` and `Config`, developers can easily understand and apply the necessary configurations for their Nextpy applications.